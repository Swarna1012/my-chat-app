{"ast":null,"code":"var _jsxFileName = \"/home/divum/Desktop/Training/project/ChattingApp-master/frontend/src/Components/Explore/Explore.js\";\nimport React, { Component } from 'react';\nimport './Explore.css';\nimport post1 from '../../images/pp1.jpg';\nimport love from \"../../images/wite_heart.png\";\nimport redLove from \"../../images/red_heart.png\";\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n    this.handleRecents = () => {\n      this.setState({\n        isRecents: true,\n        isPopular: false\n      });\n      this.getRecentPost();\n    };\n    this.handlePopular = () => {\n      this.setState({\n        isRecents: false,\n        isPopular: true\n      });\n      this.getPopularPost();\n    };\n    this.getRecentPost = () => {\n      const thisContext = this;\n      fetch(\"http://localhost:8080/post/recents/\" + JSON.parse(localStorage.getItem(\"users\")).uid) //get post of following users\n      .then(response => response.json()).then(data => {\n        console.log(data);\n        thisContext.setState({\n          arrayRecentPost: data\n        });\n      });\n    };\n    this.getPopularPost = () => {\n      const thisContext = this;\n      fetch(\"http://localhost:8080/post/popular/\" + JSON.parse(localStorage.getItem(\"users\")).uid) //get post of following users\n      .then(response => response.json()).then(data => {\n        console.log(data);\n        thisContext.setState({\n          arrayPopularPost: data\n        });\n      });\n    };\n    this.love_handle = () => {\n      if (this.state.isLiked) {\n        this.setState({\n          isLiked: false\n        });\n      } else {\n        this.setState({\n          isLiked: true\n        });\n      }\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.isLiked)\n      };\n      fetch(\"http://localhost:8080/likes/\" + this.props.id + \"/\" + JSON.parse(localStorage.getItem(\"users\")).uid, requestOptions).then(response => response.json()).then(data => {\n        this.getPost();\n      }).catch(error => {});\n    };\n    this.state = {\n      arrayRecentPost: [],\n      arrayPopularPost: [],\n      isRecents: true,\n      isPopular: false,\n      isLiked: !this.props.alreadyLiked\n    };\n  }\n  componentDidMount() {\n    this.getRecentPost();\n    this.getPopularPost();\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"explore_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"explore_titles\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.handleRecents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, \"Recents\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.handlePopular,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, \"Popular\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"explore\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, this.state.isRecents && this.state.arrayRecentPost.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore_posts\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"explore_img\",\n        src: item.path,\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"explore_pic\",\n        src: post1,\n        width: \"10px\",\n        style: {\n          borderRadius: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 37\n        }\n      }, item.username), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }\n      }, this.state.isLiked ? /*#__PURE__*/React.createElement(\"img\", {\n        src: love,\n        className: \"post_reactImage\",\n        onClick: this.love_handle,\n        width: \"7px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 66\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: redLove,\n        className: \"post_reactImage\",\n        onClick: this.love_handle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(ChatBubbleOutlineIcon, {\n        className: \"post_reactImage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 41\n        }\n      }))));\n    }), this.state.isPopular && this.state.arrayPopularPost.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore_posts\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.path,\n        style: {\n          width: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 37\n        }\n      }));\n    })));\n  }\n}\nexport default Explore;","map":{"version":3,"names":["React","Component","post1","love","redLove","ChatBubbleOutlineIcon","Explore","constructor","props","handleRecents","setState","isRecents","isPopular","getRecentPost","handlePopular","getPopularPost","thisContext","fetch","JSON","parse","localStorage","getItem","uid","then","response","json","data","console","log","arrayRecentPost","arrayPopularPost","love_handle","state","isLiked","requestOptions","method","headers","body","stringify","id","getPost","catch","error","alreadyLiked","componentDidMount","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","item","index","key","src","path","style","width","borderRadius","username"],"sources":["/home/divum/Desktop/Training/project/ChattingApp-master/frontend/src/Components/Explore/Explore.js"],"sourcesContent":["import React,{ Component } from 'react';\nimport './Explore.css';\nimport post1 from '../../images/pp1.jpg';\nimport love from \"../../images/wite_heart.png\";\nimport redLove from \"../../images/red_heart.png\";\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\n\nclass Explore extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {  \n            arrayRecentPost:[],\n            arrayPopularPost:[],\n            isRecents: true,\n            isPopular: false,\n            isLiked: !this.props.alreadyLiked,\n        }\n    }\n    \n    componentDidMount(){\n        this.getRecentPost();\n        this.getPopularPost();\n    }\n\n    handleRecents=()=>{\n        this.setState({ isRecents: true, isPopular: false });\n        this.getRecentPost();\n    }\n    handlePopular=()=>{\n        this.setState({isRecents:false, isPopular: true})\n        this.getPopularPost();\n        \n    }\n\n    getRecentPost=()=>{\n        const thisContext = this;\n        fetch(\"http://localhost:8080/post/recents/\" + JSON.parse(localStorage.getItem(\"users\")).uid)             //get post of following users\n            .then(response => response.json())\n            .then(data => {\n                console.log(data);\n                thisContext.setState({arrayRecentPost: data});\n        });\n    }\n\n    getPopularPost=()=>{\n        const thisContext = this;\n        fetch(\"http://localhost:8080/post/popular/\" + JSON.parse(localStorage.getItem(\"users\")).uid)             //get post of following users\n            .then(response => response.json())\n            .then(data => {\n                console.log(data);\n                thisContext.setState({arrayPopularPost: data});\n        });\n    }\n\n    love_handle=()=>{\n        if(this.state.isLiked){\n            this.setState({isLiked: false})\n        }\n        else{\n            this.setState({isLiked: true})\n        }\n \n        const requestOptions ={\n            method: \"POST\",\n            headers: { 'Content-Type': 'application/json' },\n            body : JSON.stringify(this.state.isLiked),\n        }\n        \n        fetch((\"http://localhost:8080/likes/\" + this.props.id +\"/\"+ JSON.parse(localStorage.getItem(\"users\")).uid),requestOptions)\n        .then(response => response.json())\n        .then(data => {\n            this.getPost();\n        })\n        .catch(error =>{\n        })\n    }\n\n    render(){\n        return (\n            <div className='explore_container'>\n                <div className='explore_titles'>\n                    <div onClick={this.handleRecents}>Recents</div>\n                    <div onClick={this.handlePopular}>Popular</div>\n                </div>\n                <div className='explore'>\n                    {this.state.isRecents &&\n                        this.state.arrayRecentPost.map((item, index) => {\n                        return(\n                            <div className='explore_posts' key={index}>\n                                <div>\n                                    <img className='explore_img' src={item.path} style={{width: \"100%\"}}></img>\n                                </div>\n                                <div>\n                                    <img className='explore_pic' src={post1} width=\"10px\" style={{borderRadius: 50}}></img>\n                                    <div>{item.username}</div>\n\n                                    <div>\n                                        {\n                                            this.state.isLiked ? <img src={love} className=\"post_reactImage\" onClick={this.love_handle} width=\"7px\"/> :\n                                                <img src={redLove} className=\"post_reactImage\" onClick={this.love_handle}/>\n                                        }\n                                        <ChatBubbleOutlineIcon className=\"post_reactImage\"/>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                        })\n                    } \n                    {this.state.isPopular &&\n                        this.state.arrayPopularPost.map((item, index) => {\n                            return(\n                                <div className='explore_posts' key={index}>\n                                    <img src={item.path} style={{width: \"100%\"}}></img>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n          )\n    }\n}\n\n\nexport default Explore"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAQ,OAAO;AACvC,OAAO,eAAe;AACtB,OAAOC,KAAK,MAAM,sBAAsB;AACxC,OAAOC,IAAI,MAAM,6BAA6B;AAC9C,OAAOC,OAAO,MAAM,4BAA4B;AAChD,OAAOC,qBAAqB,MAAM,uCAAuC;AAEzE,MAAMC,OAAO,SAASL,SAAS;EAC3BM,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KAejBC,aAAa,GAAC,MAAI;MACd,IAAI,CAACC,QAAQ,CAAC;QAAEC,SAAS,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAM,CAAC,CAAC;MACpD,IAAI,CAACC,aAAa,CAAC,CAAC;IACxB,CAAC;IAAA,KACDC,aAAa,GAAC,MAAI;MACd,IAAI,CAACJ,QAAQ,CAAC;QAACC,SAAS,EAAC,KAAK;QAAEC,SAAS,EAAE;MAAI,CAAC,CAAC;MACjD,IAAI,CAACG,cAAc,CAAC,CAAC;IAEzB,CAAC;IAAA,KAEDF,aAAa,GAAC,MAAI;MACd,MAAMG,WAAW,GAAG,IAAI;MACxBC,KAAK,CAAC,qCAAqC,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACC,GAAG,CAAC,CAAa;MAAA,CACpGC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;QACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjBV,WAAW,CAACN,QAAQ,CAAC;UAACmB,eAAe,EAAEH;QAAI,CAAC,CAAC;MACrD,CAAC,CAAC;IACN,CAAC;IAAA,KAEDX,cAAc,GAAC,MAAI;MACf,MAAMC,WAAW,GAAG,IAAI;MACxBC,KAAK,CAAC,qCAAqC,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACC,GAAG,CAAC,CAAa;MAAA,CACpGC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;QACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjBV,WAAW,CAACN,QAAQ,CAAC;UAACoB,gBAAgB,EAAEJ;QAAI,CAAC,CAAC;MACtD,CAAC,CAAC;IACN,CAAC;IAAA,KAEDK,WAAW,GAAC,MAAI;MACZ,IAAG,IAAI,CAACC,KAAK,CAACC,OAAO,EAAC;QAClB,IAAI,CAACvB,QAAQ,CAAC;UAACuB,OAAO,EAAE;QAAK,CAAC,CAAC;MACnC,CAAC,MACG;QACA,IAAI,CAACvB,QAAQ,CAAC;UAACuB,OAAO,EAAE;QAAI,CAAC,CAAC;MAClC;MAEA,MAAMC,cAAc,GAAE;QAClBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAGnB,IAAI,CAACoB,SAAS,CAAC,IAAI,CAACN,KAAK,CAACC,OAAO;MAC5C,CAAC;MAEDhB,KAAK,CAAE,8BAA8B,GAAG,IAAI,CAACT,KAAK,CAAC+B,EAAE,GAAE,GAAG,GAAErB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACC,GAAG,EAAEY,cAAc,CAAC,CACzHX,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;QACV,IAAI,CAACc,OAAO,CAAC,CAAC;MAClB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAG,CACf,CAAC,CAAC;IACN,CAAC;IAjEG,IAAI,CAACV,KAAK,GAAG;MACTH,eAAe,EAAC,EAAE;MAClBC,gBAAgB,EAAC,EAAE;MACnBnB,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE,KAAK;MAChBqB,OAAO,EAAE,CAAC,IAAI,CAACzB,KAAK,CAACmC;IACzB,CAAC;EACL;EAEAC,iBAAiBA,CAAA,EAAE;IACf,IAAI,CAAC/B,aAAa,CAAC,CAAC;IACpB,IAAI,CAACE,cAAc,CAAC,CAAC;EACzB;EAuDA8B,MAAMA,CAAA,EAAE;IACJ,oBACI7C,KAAA,CAAA8C,aAAA;MAAKC,SAAS,EAAC,mBAAmB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC9BrD,KAAA,CAAA8C,aAAA;MAAKC,SAAS,EAAC,gBAAgB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC3BrD,KAAA,CAAA8C,aAAA;MAAKQ,OAAO,EAAE,IAAI,CAAC7C,aAAc;MAAAuC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,SAAY,CAAC,eAC/CrD,KAAA,CAAA8C,aAAA;MAAKQ,OAAO,EAAE,IAAI,CAACxC,aAAc;MAAAkC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,SAAY,CAC7C,CAAC,eACNrD,KAAA,CAAA8C,aAAA;MAAKC,SAAS,EAAC,SAAS;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACnB,IAAI,CAACrB,KAAK,CAACrB,SAAS,IACjB,IAAI,CAACqB,KAAK,CAACH,eAAe,CAAC0B,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;MAChD,oBACIzD,KAAA,CAAA8C,aAAA;QAAKC,SAAS,EAAC,eAAe;QAACW,GAAG,EAAED,KAAM;QAAAT,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACtCrD,KAAA,CAAA8C,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACIrD,KAAA,CAAA8C,aAAA;QAAKC,SAAS,EAAC,aAAa;QAACY,GAAG,EAAEH,IAAI,CAACI,IAAK;QAACC,KAAK,EAAE;UAACC,KAAK,EAAE;QAAM,CAAE;QAAAd,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAM,CACzE,CAAC,eACNrD,KAAA,CAAA8C,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACIrD,KAAA,CAAA8C,aAAA;QAAKC,SAAS,EAAC,aAAa;QAACY,GAAG,EAAEzD,KAAM;QAAC4D,KAAK,EAAC,MAAM;QAACD,KAAK,EAAE;UAACE,YAAY,EAAE;QAAE,CAAE;QAAAf,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAM,CAAC,eACvFrD,KAAA,CAAA8C,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAMG,IAAI,CAACQ,QAAc,CAAC,eAE1BhE,KAAA,CAAA8C,aAAA;QAAAE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAEQ,IAAI,CAACrB,KAAK,CAACC,OAAO,gBAAGjC,KAAA,CAAA8C,aAAA;QAAKa,GAAG,EAAExD,IAAK;QAAC4C,SAAS,EAAC,iBAAiB;QAACO,OAAO,EAAE,IAAI,CAACvB,WAAY;QAAC+B,KAAK,EAAC,KAAK;QAAAd,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAC,CAAC,gBACrGrD,KAAA,CAAA8C,aAAA;QAAKa,GAAG,EAAEvD,OAAQ;QAAC2C,SAAS,EAAC,iBAAiB;QAACO,OAAO,EAAE,IAAI,CAACvB,WAAY;QAAAiB,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAC,CAAC,eAEnFrD,KAAA,CAAA8C,aAAA,CAACzC,qBAAqB;QAAC0C,SAAS,EAAC,iBAAiB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAC,CAClD,CACJ,CACJ,CAAC;IAEV,CAAC,CAAC,EAEL,IAAI,CAACrB,KAAK,CAACpB,SAAS,IACjB,IAAI,CAACoB,KAAK,CAACF,gBAAgB,CAACyB,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;MAC7C,oBACIzD,KAAA,CAAA8C,aAAA;QAAKC,SAAS,EAAC,eAAe;QAACW,GAAG,EAAED,KAAM;QAAAT,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACtCrD,KAAA,CAAA8C,aAAA;QAAKa,GAAG,EAAEH,IAAI,CAACI,IAAK;QAACC,KAAK,EAAE;UAACC,KAAK,EAAE;QAAM,CAAE;QAAAd,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAM,CACjD,CAAC;IAEd,CAAC,CAEJ,CACJ,CAAC;EAEd;AACJ;AAGA,eAAe/C,OAAO"},"metadata":{},"sourceType":"module"}