{"ast":null,"code":"var _jsxFileName = \"/home/divum/Desktop/Training/project/ChattingApp-master/frontend/src/Components/Post/Post.js\";\nimport React, { Component } from \"react\";\nimport './Post.css';\nimport { Avatar } from \"@mui/material\";\n// import postImage from \"../../images/post2.jpg\";\nimport love from \"../../images/love.png\";\nimport comments from \"../../images/comments.png\";\nimport send from \"../../images/send.png\";\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n    this.getComments = () => {\n      const thisContext = this;\n      // let data =[\n      //     {\n      //         \"username\": \"aravind\",\n      //         \"commentId\": \"1234\",\n      //         \"timeStamp\": \"123456\",\n      //         \"description\": \"Comment 1\"\n      //     },\n      //     {\n      //         \"username\": \"keeru\",\n      //         \"commentId\": \"1234\",\n      //         \"timeStamp\": \"123456\",\n      //         \"description\": \"Comment 2\"\n      //     },\n      //     {\n      //         \"username\": \"arun\",\n      //         \"commentId\": \"1234\",\n      //         \"timeStamp\": \"123456\",\n      //         \"description\": \"Comment 3\"\n      //     }\n      // ];\n      // this.setState({commentList: data});\n      fetch(\"http://localhost:8080/comments/\" + this.props.id).then(response => response.json()).then(data => {\n        thisContext.setState({\n          commentList: data\n        });\n      });\n    };\n    this.startFollow = () => {\n      console.log(this.uid);\n      // let payload = {\n      //     \"user1\": JSON.parse(localStorage.getItem(\"users\")).uid,\n      //     \"user2\": \"otfh5F0LvqZ9R6Bv7OG46f7b0IO2\"\n      // };\n    };\n    this.submitCommits = event => {\n      if (event.key == \"Enter\") {\n        let comment = event.currentTarget.value;\n        if (comment != null || comment != undefined) {\n          const thisContext = this;\n          let payload = {\n            \"commentId\": Math.floor(Math.random() * 100000).toString(),\n            \"userId\": JSON.parse(localStorage.getItem(\"users\")).uid,\n            \"postId\": this.props.id,\n            \"comment\": comment,\n            \"commentedAt\": new Date().getTime()\n          };\n          const requestOptions = {\n            method: \"POST\",\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n          };\n          fetch(\"http://localhost:8080/comments\", requestOptions).then(response => response.json()).then(data => {\n            console.log(data);\n            thisContext.getComments();\n          }).catch(error => {});\n        }\n      }\n    };\n    this.state = {\n      commentList: []\n    };\n  }\n  componentDidMount() {\n    this.getComments();\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post_header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      className: \"post_image\",\n      src: this.props.profileImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post_username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, this.props.username), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"follow_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.startFollow,\n      className: \"right_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, \"Follow\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.props.postImage,\n      width: \"815px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: love,\n      className: \"post_reactImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: comments,\n      className: \"post_reactImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: send,\n      className: \"post_reactImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontWeight: \"bold\",\n        marginLeft: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, this.props.likes, \" likes\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, this.state.commentList.map((item, index) => index < 4 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post_comment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }, item.username, \": \", item.comment) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 103\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"post_commentBox\",\n      onKeyPress: this.submitCommits,\n      type: \"text\",\n      placeholder: \"Add a comment...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    })));\n  }\n}\nexport default Post;","map":{"version":3,"names":["React","Component","Avatar","love","comments","send","Post","constructor","props","getComments","thisContext","fetch","id","then","response","json","data","setState","commentList","startFollow","console","log","uid","submitCommits","event","key","comment","currentTarget","value","undefined","payload","Math","floor","random","toString","JSON","parse","localStorage","getItem","Date","getTime","requestOptions","method","headers","body","stringify","catch","error","state","componentDidMount","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","profileImage","username","onClick","postImage","width","style","marginLeft","fontWeight","likes","map","item","index","onKeyPress","type","placeholder"],"sources":["/home/divum/Desktop/Training/project/ChattingApp-master/frontend/src/Components/Post/Post.js"],"sourcesContent":["import React,{Component} from \"react\";\nimport './Post.css'\nimport { Avatar } from \"@mui/material\";\n// import postImage from \"../../images/post2.jpg\";\nimport love from \"../../images/love.png\";\nimport comments from \"../../images/comments.png\";\nimport send from \"../../images/send.png\";\n\n\nclass Post extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {  \n            commentList:[]\n        }\n    }\n\n    componentDidMount(){\n        this.getComments();\n    }\n\n    getComments=()=>{\n        const thisContext = this;\n        // let data =[\n        //     {\n        //         \"username\": \"aravind\",\n        //         \"commentId\": \"1234\",\n        //         \"timeStamp\": \"123456\",\n        //         \"description\": \"Comment 1\"\n        //     },\n        //     {\n        //         \"username\": \"keeru\",\n        //         \"commentId\": \"1234\",\n        //         \"timeStamp\": \"123456\",\n        //         \"description\": \"Comment 2\"\n        //     },\n        //     {\n        //         \"username\": \"arun\",\n        //         \"commentId\": \"1234\",\n        //         \"timeStamp\": \"123456\",\n        //         \"description\": \"Comment 3\"\n        //     }\n        // ];\n        // this.setState({commentList: data});\n        fetch(\"http://localhost:8080/comments/\"+this.props.id)\n            .then(response => response.json())\n            .then(data => {\n                thisContext.setState({commentList: data});\n            });\n    }\n\n    startFollow=()=>{\n\n        console.log(this.uid)\n        // let payload = {\n        //     \"user1\": JSON.parse(localStorage.getItem(\"users\")).uid,\n        //     \"user2\": \"otfh5F0LvqZ9R6Bv7OG46f7b0IO2\"\n        // };\n    }\n\n    submitCommits=(event)=>{\n        if(event.key == \"Enter\"){\n            let comment = event.currentTarget.value;\n            if(comment!=null || comment != undefined){\n                const thisContext = this;\n                let payload = {\n                    \"commentId\": Math.floor(Math.random() * 100000).toString(),\n                    \"userId\": JSON.parse(localStorage.getItem(\"users\")).uid,\n                    \"postId\": this.props.id,\n                    \"comment\": comment,\n                    \"commentedAt\": new Date().getTime(),\n                };\n                \n                const requestOptions ={\n                    method: \"POST\",\n                    headers: { 'Content-Type': 'application/json' },\n                    body : JSON.stringify(payload),\n                }\n    \n                fetch(\"http://localhost:8080/comments\",requestOptions)\n                .then(response => response.json())\n                .then(data => {\n                    console.log(data);\n                    thisContext.getComments();\n                })\n                .catch(error =>{\n    \n                })\n            }\n        }\n    }\n\n    render() { \n        return (  \n            <div className=\"post_container\">\n                {/* Header */}\n                <div className=\"post_header\">\n                    <Avatar className=\"post_image\" src={this.props.profileImage}/>\n                    <div className=\"post_username\">{this.props.username}</div>\n                    <div className=\"follow_btn\">\n                        <button onClick={this.startFollow} className=\"right_btn\">Follow</button>\n                    </div>\n                </div>\n\n                {/* Image */}\n                <div>\n                    <img src={this.props.postImage} width=\"815px\"/>\n                </div>\n\n                {/* Analytics */}\n                <div>\n                    <div style={{marginLeft:\"10px\"}}>\n                        <img src={love} className=\"post_reactImage\"/>\n                        <img src={comments} className=\"post_reactImage\"/>\n                        <img src={send} className=\"post_reactImage\"/>\n                    </div>\n                    <div style={{fontWeight:\"bold\", marginLeft:\"20px\"}}>\n                        {this.props.likes} likes\n                    </div>\n                </div>\n\n                {/* Comment section */}\n                <div>\n                    {\n                        this.state.commentList.map((item,index)=>(\n                            index < 4 ?\n                                <div className=\"post_comment\">{item.username}: {item.comment}</div> : <span></span>\n                        ))\n                    }\n                    <input className=\"post_commentBox\" onKeyPress={this.submitCommits} type=\"text\" placeholder=\"Add a comment...\" />\n                </div>\n            </div>\n        );\n    }\n}\n \nexport default Post;"],"mappings":"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"},"metadata":{},"sourceType":"module"}